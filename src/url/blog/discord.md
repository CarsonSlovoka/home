---
{
  "title": "discordæ•™å­¸",
  "tags": [ "discord", "tutorial", "web-hooks" ],
  "layout": "blog/blog.base.gohtml",
  "cTime": "2022-09-06T18:42:00+08:00",
  "mTime": "2022-09-06T18:42:00+08:00"
}
---

# discord

## [æœå°‹](https://support.discord.com/hc/en-us/articles/115000468588)

å»ºè­°ç†Ÿæ‚‰discordä¹‹å¾Œå¯ä»¥æŠŠä»‹é¢æ”¹æˆè‹±æ–‡ï¼Œé€™æ¨£é—œéµå­—æ‰å¯ä»¥ç”¨è‹±æ–‡å»æ‰“ï¼Œå¦å‰‡é—œéµå­—éœ€è¦æ‰“æœ¬åœ°åŒ–çš„çµæœæ‰æœƒæœ‰ä½œç”¨

- `å¾: Foo#5776 ä¹‹å¾Œ: 2022-06-01 ä¹‹å‰: 2022-06-09 æœ‰: é€£çµ`
- `from: Foo#5776 after: 2022-06-01 before: 2022-06-09 has: link`

## [WebHooks](https://support.discord.com/hc/zh-tw/articles/228383668-%E4%BD%BF%E7%94%A8%E7%B6%B2%E7%B5%A1%E9%89%A4%E6%89%8B-Webhooks-)

å®ƒå…è¨±æ‚¨ç•¶ç™¼ç”Ÿä»€éº¼äº‹æƒ…æ™‚ï¼Œå‚³é€é€šçŸ¥ã€‚

ä¾‹å¦‚æ‚¨å¯ä»¥åˆ°discordçš„ä¼ºæœå™¨è¨­å®šä¸­æ‰¾åˆ°Webhookï¼Œæ¥è‘—ç”¢ç”Ÿï¼Œè¨­å®šè¦åœ¨å“ªä¸€å€‹channelç™¼é€æ¶ˆæ¯ï¼Œæ¥è‘—è¤‡è£½webhookçš„ç¶²å€(`https://discord.com/api/webhooks/<xxxID>/<token>`)

ç„¶å¾Œæ‚¨å¯ä»¥æ‰¾æœ‰æ”¯æ´webhooksçš„æœå‹™å™¨ï¼ŒæŠŠè©²ç¶²å€å¡«å…¥ï¼Œèˆ‰Githubç‚ºä¾‹:

> https://github.com/{username}/{repoName}/settings/hooks
>
> (usernameå’ŒrepoNameæœƒæˆè‡ªå·±çš„)
>
>
> Payload URL: https://discord.com/api/webhooks/{xxxID}/{token}/github   (â—æ³¨æ„: æœ€å¾Œè¦åŠ ä¸Š`/github`)
>
> content type: application/json

å°±å¯ä»¥è¨­å®šwebhookï¼Œå¯ä»¥æŒ‡æ´¾æ˜¯æ‰€æœ‰å‹•ä½œéƒ½è¦ç™¼é€é€šçŸ¥é‚„æ˜¯åªæœ‰pushçš„æ™‚å€™æ‰å‚³é€é€šçŸ¥ç­‰ç­‰

é¸æ“‡å¥½ä¹‹å¾Œå¯ä»¥éš¨ä¾¿pushæ±è¥¿ä¸Šå»githubï¼Œæ‚¨åˆ°è©²channelæ‡‰è©²å°±æœƒçœ‹åˆ°æœ‰æ¨æ’­äº†

----

å®ƒçš„åŸç†ç™½è©±ä¾†èªªç•¶æ‚¨åšäº†è©²å‹•ä½œï¼Œå®ƒå°±postè«‹æ±‚ï¼Œç™¼é€åˆ°è©²ç¶²å€å»ï¼Œä½¿å¾—æ‡‰ç”¨ç¨‹å¼æ”¶åˆ°è©²æ¶ˆæ¯ï¼Œå†å‘ˆç¾å‡ºä¾†ã€‚


## [é–‹ç™¼äººå“¡](https://discord.com/developers/applications)

### OAuth2

OAuthæ˜¯ä¸€å€‹é–‹ç™¼æ¨™æº–([Open Standard](https://en.wikipedia.org/wiki/Open_standard))ç”¨ä¾†è™•ç†æœ‰é—œã€Œæˆæ¬Šã€(Authorization)è®“**æ‡‰ç”¨ç¨‹å¼**(Application)ä»£è¡¨**è³‡æºæ“æœ‰è€…**(Resource Owner)èƒ½è¨ªå•å…¶è³‡æºã€‚

å®ƒæœ‰åˆ¥æ–¼å‚³çµ±åªé å¸³å¯†ä¾†é©—è­‰ï¼ŒOAuthæ›´åŠ çš„éˆæ´»ï¼Œ

å®ƒçµ¦çš„æ˜¯Tokenï¼Œæ‚¨å¯ä»¥é€éæ›´æ›å®ƒï¼Œä¾†é˜»æ“‹æ‡‰ç”¨ç¨‹å¼å†ç¹¼çºŒè¨ªå•ï¼Œ

åŒæ™‚ä¹Ÿèƒ½å†è©³ç´°çš„æŒ‡æ´¾ï¼Œè©²ä»¤ç‰Œèƒ½è¨ªå•çš„èƒ½åŠ›(æœ‰å…¨éƒ¨çš„æ¬Šé™ã€é‚„æ˜¯åªèƒ½åšå¦äº›äº‹æƒ…è€Œå·²)

æ‚¨å¦‚æœæœ‰èˆˆè¶£ï¼Œå¯ä»¥è®€ä¸€ä¸‹[RFC6749](https://datatracker.ietf.org/doc/html/rfc6749)å…¨éƒ¨å…§å®¹ä¸å¤šï¼Œä¹Ÿå¯ä»¥åªçœ‹å‰åŠéƒ¨äº†è§£ä¸€äº›åè©å°±è¡Œäº†

#### åè©ä»‹ç´¹

ç‚ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘å€‘èˆ‰ä¾‹ï¼Œæƒ³è®“æŸå€‹æ‡‰ç”¨ç¨‹å¼(AP)èƒ½å…·æœ‰è¨ªå•è©²ä½¿ç”¨è€…discordè³‡æ–™çš„èƒ½åŠ›

| Name | Desc  |
| ---- |-------|
Resource Owner | è³‡æºçš„æ“æœ‰è€…----ä½¿ç”¨è€…
Client | æƒ³è¦å–å¾—å—ä¿è­·è³‡æ–™çš„ã€Œæ‡‰ç”¨ç¨‹å¼ã€
Authorization Server | é©—è­‰Resource Ownerçš„èº«åˆ†ï¼Œä¸¦èƒ½åˆ†ç™¼Access Tokençµ¦æ‡‰ç”¨ç¨‹å¼(Client)çš„ä¼ºæœå™¨ã€‚å°æ‡‰ä¾‹å­ä¸­çš„Discordï¼Œä»–æœƒè¦æ±‚ä½ è¼¸å…¥å¸³è™Ÿå¯†ç¢¼ä¾†æ ¸å°æ‚¨çš„èº«åˆ†ï¼Œä¸¦ä¸”æ‚¨å¯ä»¥é€éå®ƒä¾†ç”¢ç”ŸAccess Token
Resource Server | å­˜æ”¾ä½¿ç”¨è€…è³‡æ–™çš„ä¼ºæœå™¨ã€‚ ä»¥ä¾‹å­ç‚ºä¾‹æ˜¯æŒ‡: Discordç”¨å“ªä¸€å€‹ä¼ºæœå™¨ä¾†å­˜æ”¾æ‚¨çš„è³‡æ–™ (ä¸ä¸€å®šæ˜¯è‡ªå·±ï¼Œä¹Ÿå¯ä»¥å†å§”å¤–å‡ºå»)
Access Token | æ‡‰ç”¨ç¨‹å¼è¦æ‹¿é€™ä¸€å€‹Tokenï¼Œå»å‘Resource Serverå–å¾—åŒæ„è¢«ä½¿ç”¨çš„è³‡æ–™
Authorization Grant | åŒæ„æ‡‰ç”¨ç¨‹å¼å»åšæŸäº›äº‹ã€å–å¾—ä¸€å€‹ç¯„åœå…§çš„è³‡æºã€‚
Redirect URI(Callback URL) | åœ¨é©—è­‰å®Œä½¿ç”¨è€…èº«ä»½ä¸¦ç²å¾—æˆæ¬ŠåŒæ„å¾Œï¼ŒæŠŠä½¿ç”¨è€…å°å‘å“ªä¸€å€‹URL(é€šå¸¸æ˜¯æ‡‰ç”¨ç¨‹å¼çš„æŸä¸€å€‹è·¯å¾‘)
Scopes | åœ¨discordä¸­ï¼Œæœ‰å…©æ¨£èƒ½å‹¾é¸. 1. `bot` 2. `applications.commands` æ‚¨ä¹Ÿè¨±æœ‰äº›ç´æ‚¶ï¼Œå…©å€‹æœ‰ä»€éº¼å·®ï¼Œbotæ²’æ„å¤–æ˜¯è¦é¸çš„(ä¸ç„¶æ‚¨è¦æ€éº¼ç”¢ç”Ÿæ©Ÿå™¨äºº)ï¼Œè‡³æ–¼applications.commandsæŒ‡çš„æ˜¯èƒ½ä¸èƒ½ç”¨`/`ä¾†æŒ‡æ´¾è¦åšä»€éº¼äº‹æƒ…ï¼Œä¾‹å¦‚æ‚¨å¯ä»¥è‡ªè¨‚`/`æŸæ¨£æ±è¥¿è¦è·‘å‡ºæ€æ¨£çš„æ¸…å–®å‡ºä¾†

#### è¨­å®š

- General: é€™å€‹æ˜¯åªé€šç”¨çš„è¨­å®šã€‚
- URL Generator: å®¢è£½åŒ–ã€‚æ‚¨å¯ä»¥ä¸ç†æœƒGeneralçš„è¨­å®šï¼Œç›´æ¥ä¾†åˆ°æ­¤é é¢ï¼Œå‹¾é¸æ‚¨

## FAQ

- [å¦‚ä½•æ›´æ›channelçš„åœ–æ¨™](https://support.discord.com/hc/en-us/community/posts/360040862772-Channel-Icons) :
  1. æ”¯ä»˜25ç¾å…ƒæˆç‚ºé–‹ç™¼äººå“¡(ä¸€æ¬¡,æ°¸ä¹…)
  2. å¦‚æœæ‚¨çš„ä¼ºæœå™¨è®Šæˆå…¬é–‹çš„(community) ä¹Ÿå¯ä»¥ç²å¾—ä¸€äº›åœ–æ¨™(Announcements ğŸ“¢, rules ğŸ“œã€ Stage)
- IDç¨®é¡:
  - Server(Guild)
  - Channel
  - Message (æ¯ä¸€å€‹è¨Šæ¯éƒ½æœ‰å…¶å°ˆå±¬çš„ID)
- How to find Discord IDs
  - Go to User Settings > Advanced > enable Developer Mode.
  - Next, simply right-click your profile picture and select `Copy ID` to copy your User ID.
  - To find a Server(Guild), Channel, or Message ID, right-click on the server/ channel name, or message, and select `Copy ID`.
- è¨Šæ¯æ˜¯æ°¸ä¹…ä¿å­˜å—: æ˜¯
- æˆ‘è¦æ€éº¼åˆªé™¤è¨Šæ¯
  - é»æ“Šå€‹åˆ¥çš„è¨Šæ¯ï¼Œæˆ–è€…æŒ‰ä¸‹Shiftå†é»åˆªé™¤ï¼Œå¯ä»¥ä¸æœƒå‡ºç¾æ˜¯å¦è¦åˆªé™¤åœ°ç¢ºèªæ¡† (åœ¨æ—©æœŸæœ‰æ‰¹æ¬¡åˆªé™¤çš„é¸é …ï¼Œä½†å¾Œä¾†å¥½åƒå°discordä¼ºæœå™¨é€ æˆå¤ªå¤§çš„è² æ“”ï¼Œæ‰€ä»¥åˆªé™¤äº†)
  - å¦‚æœæ‚¨æƒ³åˆªé™¤æŸé »é“çš„æ‰€æœ‰è¨Šæ¯:
    1. æ‰¾è™•ç†è¨Šæ¯ç›¸é—œçš„æ©Ÿå™¨äººï¼Œç”¨æ©Ÿå™¨äººå¹«ä½ åˆªé™¤
    2. cloneé »é“ï¼Œå†æŠŠèˆŠçš„åˆªé™¤
